{"version":3,"sources":["SeleteIndustry.js"],"names":[],"mappings":"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","file":"SeleteIndustry-compiled.js","sourcesContent":["/**\n * Created by cvtt on 2017/4/7.\n */\n\nimport React, { Component} from 'react'\nimport './selete.css'\nimport { Card } from '../../common/levelMenu/levelMenu.jsx'\nimport  service from  '../../services/movieService.js'\nimport {Industry} from'../../data/industry.js'\nimport {browserHistory} from 'react-router'\nvar uuu = navigator.userAgent;\nvar isIos=!!uuu.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/)==true;\nif(isIos){\n    window.webkit && window.webkit.messageHandlers.getIndustryList.postMessage(null);\n    window.IndustryList = 111;\n    window.handleFromIosData = function(getIndustryData){\n        IndustryList = getIndustryData || '没有获取到数 据'\n        return IndustryList\n    }\n}\nexport default class SeleteIndustry extends Component {\n       constructor (props){\n            super(props)\n         this.state ={\n                setIndustryArr:[],\n                local:'',\n                changShow:true,\n                totalShow:true,\n                userId:'',\n                borderNone:'',\n                message:{\n                    type:'',\n                    userId:'',\n                },\n              }\n       }\n    componentWillMount(){ // 这里直接通过路由传递的useId值\n        let selectIndustry = JSON.parse(this.props.params.userId)\n        this.state.message.type = selectIndustry.type\n        this.setState({userId:selectIndustry.userId})\n\n        this.fetchSetIndustry()\n        this.setState({local:this.getLianData.bind(this)()})\n    }\n    getLianData =()=>{// 拦截 android 和 ios 的 数据\n        var uuu = navigator.userAgent;\n        var isAndroid=uuu.indexOf('Android') > -1 || uuu.indexOf('Linux') > -1;\n        var isIos=!!uuu.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/)==true;\n        if(isIos) {\n            return window.IndustryList\n        }else if(isAndroid){\n            return   window.androidJsInterface && window.androidJsInterface.getIndustry()\n        }\n    }\n\n    fetchSetIndustry =()=>{\n          let  messageObj = Object.assign({},this.state.message)\n          messageObj.userId =  JSON.parse(this.props.params.userId).userId\n\n          let messageStr = JSON.stringify(messageObj)\n          const promise = service.getFocusedIndustry(messageStr)\n          promise.then((json)=>{\n              if(json ==''){\n                  return\n              }\n               json =  JSON.parse(json)\n               this.setState({setIndustryArr:json.industryList})\n          })\n    }\n    handleSetIndustry =(Id,Name)=>{\n        let  handleSetObj = new Object()\n             handleSetObj.industryId = Id\n             handleSetObj.industryName = Name\n             handleSetObj.userId = JSON.parse(this.props.params.userId).userId\n        let  handleStr = JSON.stringify(handleSetObj)\n        if(JSON.parse(this.props.params.userId).tralvel == 'tralvel') {\n            browserHistory.push(`/container/movie/${handleStr}`)\n        }else if(JSON.parse(this.props.params.userId).downStream  == 'downStream') {\n            browserHistory.push(`/container/downstream/${handleStr}`)\n        }else {\n            browserHistory.push(`/container/home/${handleStr}`)\n        }\n    }\n    handleDetailIndustry = (value,index)=>{ //index判断是不是最后一条数据是,是最后一条不添加边框\n        return (\n            <div onClick={this.handleSetIndustry.bind(this,value.industryId,value.industryName)} className={index == this.state.setIndustryArr.length-1 ?'detailBorderNone':'detailIndustry'} key={index}>{value.industryName}</div>\n        )\n    }\n    handleChangeButtton =()=>{// 点击切换显示关注行业按钮\n           this.setState({changShow:!this.state.changShow})\n    }\n    handleTotalButton = ()=>{\n           this.setState({totalShow:!this.state.totalShow})\n    }\n    render(){\n\n     const styles = {\n            provinceStyles:{width:'100%',boxSizing:'border-box',backgroundColor:'#FFFFFF',borderBottom:'1px solid #E1E1E1 ',overflow: 'hidden', display:'block', whiteSpace:'nowrap', textOverflow:'ellipsis'},\n            pHeight:{width:'86%',height:'4rem',lineHeight:'4rem',textIndent:'3rem',fontSize:'1.33rem',overflow: 'hidden', display:'block', whiteSpace:'nowrap', textOverflow:'ellipsis'}\n        }\n        return(\n            <div className='concernedIdustry'>\n                <div className='concernedSelect' onClick={this.handleChangeButtton}>\n                    从关注行业中进行选择\n                    <span className={this.state.changShow?'concernedShow':'conceredHidden'}></span>\n                </div>\n                <div className={this.state.changShow?'handleDetailShow':'handleDetailHidden'}>\n                    { this.state.setIndustryArr.map(this.handleDetailIndustry)}\n                </div>\n                <div className='totalIndustry' onClick={this.handleTotalButton}>\n                    从全部行业中选择\n                    <span className={this.state.totalShow?'totalShow':'totalHidden'}></span>\n                </div>\n                <div className={this.state.totalShow?'industryMenuShow':'industryMenuHidden'}>\n                    {\n                        JSON.parse(this.state.local).map((value, index)=> {\n                            return <Card\n                                key={index}\n                                icon={true}\n                                content={ <p style={{height:'4rem',lineHeight:'4rem',paddingLeft:'2.42rem',backgroundColor:'#FFFFFF',fontSize:'1.33rem',overflow: 'hidden', display:'block', whiteSpace:'nowrap', textOverflow:'ellipsis'}}>{value.instryName}</p>}\n                                iconStyle={{position:'absolute',left:'1rem'}}\n                                expandedIcon={<img src={require('../../images/rotateUp.png')} style={{position:'absolute'}} /> }\n                                noexpandedIcon={<img src={require('../../images/right.png')} style={{position:'absolute'}} />}\n                                contentStyle={styles.provinceStyles}\n                                >\n                                {\n                                    value.industryList.map((val, index)=> {\n                                        return <Card\n                                            key={index}\n                                            icon={true}\n                                            content={<p   style={styles.pHeight}>{val.instryName}</p>}\n                                            expandedIcon={<img src={require('../../images/graydown.png')}style={{width:'1.17rem',height:'0.67rem',marginLeft:'0.5rem',position:'absolute',right:'1rem'}}  />}\n                                            noexpandedIcon={<img src={require('../../images/grayup.png')}style={{width:'1.17rem',height:'0.67rem',marginLeft:'0.5rem',position:'absolute',right:'1rem'}}/>}\n                                            iconStyle={{position:'absolute',right:'0rem',width:'14%',height:'calc(100% - 1.5rem)'}}\n                                            contentStyle={{paddingLeft:'3rem',boxSizing:'border-box',backgroundColor:'#F5F5F5 ',borderBottom:'1px solid #E1E1E1'}}\n                                            >\n                                            {\n                                                val.industryList.map((vv, ii)=> {\n\n                                                    return <Card\n                                                        key={ii}\n                                                        icon={true}\n                                                        content={ <p key={ii}style={{height:'4rem',lineHeight:'4rem',borderBottom:'1px solid #E1E1E1',textIndent:'3rem',fontSize:'1.33rem',color:'#666666',overflow: 'hidden', display:'block', whiteSpace:'nowrap', textOverflow:'ellipsis'}}>\n                                                       {vv.instryName}\n                                                    </p>}\n                                                        handleIndutiyClick={()=>{\n                                                        let industryObj = new Object()\n                                                        industryObj.industryId = vv.industryId\n                                                        industryObj.industryName = vv.instryName\n                                                        industryObj.industryMasks = 'true'\n                                                        industryObj.userId = JSON.parse(this.props.params.userId).userId\n                                                        let industryStr = JSON.stringify(industryObj)\n                                                         if(JSON.parse(this.props.params.userId).tralvel == 'tralvel') {\n\n                                                          browserHistory.push(`/container/movie/${industryStr}`)\n\n                                                            }else if(JSON.parse(this.props.params.userId).downStream == 'downStream') {\n                                                                browserHistory.push(`/container/downstream/${industryStr}`)\n                                                          }else {\n                                                                  browserHistory.push(`/container/home/${industryStr}`)\n                                                           }\n\n                                            }}\n                                                        expandedIcon={<b style={{width:'0px',height:'0px',marginTop:'18px'}}></b>}\n                                                        noexpandedIcon={<b style={{width:'0px',height:'0px',marginTop:'18px'}}></b>}\n                                                        >\n                                                    </Card>\n\n                                                })\n                                            }\n                                        </Card>\n\n                                    })\n                                }\n                            </Card>\n\n                        })\n                    }\n\n                </div>\n            </div>\n        )\n\n   }\n}"]}