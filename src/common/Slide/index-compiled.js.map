{"version":3,"sources":["index.jsx"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/**\r\n * Slide\r\n */\r\nimport React, { Component } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './style.css'\r\n\r\nimport Sliders from './Sliders'\r\nimport Dots from './Dots'\r\n\r\nvar SlideInter;\r\n\r\nclass Slide extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.autoSlideFun = this.autoSlideFun.bind(this)\r\n\t}\r\n\r\n\tstate = {\r\n\t\tbaseWidth: document.documentElement.clientWidth, //宽度\r\n\t\tstartX: \"\",\r\n\t\tcurX: \"\",\r\n\t\tmoveX: \"\",\r\n\t\ttime: 0,\r\n\t\tdistance: 0, //移动距离\r\n\t\tswiper: 30, //滑动滚动触发距离\r\n\t\tindex: 0,\r\n\t\tlength: this.props.opts.length,\r\n\t\tcontinuous: true, //是否循环滚动\r\n\t\tautoSlide: true,\r\n\t\tslideSpeed: 3000\r\n\t}\r\n\r\n\ttouchStart (e) {\r\n\t\tthis.setState({\r\n\t\t\ttime: 0,\r\n\t\t\tstartX: e.touches[0].pageX\r\n\t\t})\r\n\t}\r\n\r\n\ttouchMove (e) {\r\n\t\tif(this.state.autoSlide) {\r\n\t\t\tthis.stopSlideFun();\r\n\t\t}\r\n\t\tvar _curX = e.touches[0].pageX\r\n\t\tvar _moveX = _curX - this.state.startX\r\n\t\tvar _distance = -(this.state.index * this.state.baseWidth - _moveX)\r\n\r\n\t\tthis.setState({\r\n\t\t\tcurX: _curX,\r\n\t\t\tmoveX: _moveX,\r\n\t\t\ttime: 0,\r\n\t\t\tdistance: _distance\r\n\t\t})\r\n\t}\r\n\r\n\ttouchEnd (e) {\r\n\t\tif(Math.abs(this.state.moveX) <= this.state.swiper) {\r\n\t\t\tthis.slideFun('', '.5')\r\n\t\t} else {\r\n\t\t\tif(this.state.moveX > this.state.swiper) {\r\n\t\t\t\tthis.slideFun('prev', '.5')\r\n\t\t\t} else if(Math.abs(this.state.moveX) > this.state.swiper) {\r\n\t\t\t\tthis.slideFun('next', '.5')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tmoveX: 0\r\n\t\t})\r\n\t}\r\n\t/**\r\n\t * index控制\r\n\t * @param  {num} go   指定index数值\r\n\t * @param  {num} time transition时间\r\n\t */\r\n\tslideFun (go, time) {\r\n\t\tvar _index = this.state.index\r\n\t\tif(typeof go === \"number\") {\r\n\t\t\t_index = go\r\n\t\t} else if(go == \"next\") {\r\n\t\t\t_index ++\r\n\t\t} else if(go == \"prev\") {\r\n\t\t\t_index --\r\n\t\t}\r\n\r\n\t\t// 是否循环滚动\r\n\t\tif(this.state.continuous) {\r\n\t\t\tif(_index > this.state.length) {\r\n\t\t\t\tthis.scrollFun(_index, time)\r\n\t\t\t\t//返回第一个\r\n\t\t\t\t_index = 1\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.scrollFun(_index, 0)\r\n\t\t\t\t\tthis.autoSlideFun()\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tindex: _index\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 500);\r\n\t\t\t} else if(_index < 1) {\r\n\t\t\t\tthis.scrollFun(_index, time)\r\n\t\t\t\t//返回最后一个\r\n\t\t\t\t_index = this.state.length\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.scrollFun(_index, 0)\r\n\t\t\t\t\tthis.autoSlideFun()\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tindex: _index\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 500)\r\n\t\t\t} else {\r\n\t\t\t\tthis.scrollFun(_index, time)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tindex: _index\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(_index >= this.state.length) {\r\n\t\t\t\t_index = 0;\r\n\t\t\t} else if(_index < 0) {\r\n\t\t\t\t_index = this.state.length - 1;\r\n\t\t\t}\r\n\t\t\tthis.scrollFun(_index, time)\r\n\t\t\tthis.setState({\r\n\t\t\t\tindex: _index\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 滚动函数\r\n\t * @param  {num} index 指定滚动的index\r\n\t * @param  {num} time  transition的时间\r\n\t */\r\n\tscrollFun (index, time) {\r\n\t\tthis.setState({\r\n\t\t\ttime: time,\r\n\t\t\tdistance: -(index * this.state.baseWidth)\r\n\t\t})\r\n\t}\r\n\r\n\tautoSlideFun() {\r\n\t\tif(this.state.autoSlide) {\r\n\t\t\tthis.stopSlideFun()\r\n\t\t\tSlideInter = setInterval(() => {\r\n\t\t\t\tthis.slideFun('next', '.5')\r\n\t\t\t}, this.state.slideSpeed)\r\n\t\t}\r\n\t}\r\n\r\n\tstopSlideFun() {\r\n\t\tclearInterval(SlideInter)\r\n\t}\r\n\r\n\tcomponentWillUnmount(){ //在 不在这个页面销毁轮播\r\n\t\tthis.stopSlideFun()\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// 循环滚动 index+1\r\n\r\n\t\tif(this.state.continuous) {\r\n\t\t\tvar newIndex = this.state.index + 1\r\n\t\t\tthis.setState({\r\n\t\t\t\tindex: newIndex,\r\n\t\t\t\tdistance: -(newIndex * this.state.baseWidth)\r\n\t\t\t})\r\n\t\t}\r\n\t\tthis.autoSlideFun();\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar opts = this.props.opts\r\n\r\n\t\tvar slideStyle = {\r\n\t\t\twidth: (document.documentElement.clientWidth * (opts.length + 2)) + \"px\",\r\n\t\t\tWebkitTransform: 'translate3d(' + this.state.distance + \"px,0,0)\",\r\n\t\t\ttransform: 'translate3d(' + this.state.distance + \"px,0,0)\",\r\n\t\t\tWebkitTranstion: \"all \" + this.state.time + \"s\",\r\n\t\t\ttransition: \"all \" + this.state.time + \"s\"\r\n\t\t}\r\n\r\n\t\tvar sliders = opts.map((item, i) => {\r\n\t\t\treturn (\r\n\r\n\t\t\t\t<Sliders sliderIndex={this.props.slider[i]} id={item.src} link={item.link} src={item.src} key={i}  />\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\tvar dots = opts.map((item, i) => {\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Dots key={i} active={(this.state.continuous ? (this.state.index-1) : this.state.index) == i ? 'active' : ''} />\r\n\t\t\t)\r\n\t\t}) \r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"slide-wrap\">\r\n\t\t\t\t<div className=\"slide-ul\" style={slideStyle} onTouchStart={e=>this.touchStart(e)} onTouchMove={e=>this.touchMove(e)} onTouchEnd={e=>this.touchEnd(e)} onTransitionEnd={()=>this.autoSlideFun()}>\r\n\t\t\t\t\t{this.state.continuous ? <Sliders sliderIndex={this.props.slider}   link={opts[opts.length-1].link} src={opts[opts.length-1].src} picWidth={this.state.baseWidth} /> : \"\" }\r\n\t\t\t\t\t{sliders} \r\n\t\t\t\t\t{this.state.continuous ? <Sliders sliderIndex={this.props.slider}  link={opts[0].link} src={opts[0].src} picWidth={this.state.baseWidth} /> : \"\"}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"dots-wrap\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\topts.map((item,i)=>{\r\n\t\t\t\t\t\t\treturn <Dots key={i} active={(this.state.continuous ? (this.state.index-1) : this.state.index) == i ? 'active' : ''} />\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default CSSModules(Slide, styles);"]}