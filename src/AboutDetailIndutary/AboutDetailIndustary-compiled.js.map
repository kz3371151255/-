{"version":3,"sources":["AboutDetailIndustary.js"],"names":[],"mappings":"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","file":"AboutDetailIndustary-compiled.js","sourcesContent":["/**\n * Created by cvtt on 2017/3/27.\n */\n/**\n * Created by cvtt on 2017/3/20.\n */\n\nimport React, { Component } from 'react'\nimport service from '../services/movieService.js'\nimport './css/AboutDetailIndustary.css'\nimport {browserHistory } from 'react-router'\nclass AboutDetailIndustary extends Component {\n    constructor(props) {\n        super(props)\n        this.state={\n            isLoading:true,\n            datamessage:{},\n            detailData:[],\n            startWord:'',\n            dataEmpty:false,\n            messages:{\n                keyword: '',\n            }\n        }\n    }\n\n    componentDidUpdate(){ //不断的监测检测state 和 props 变化\n\n        if(this.props.item != this.state.startWord){ //先判断在赋值，当前的和之前的比较\n            this.setState({startWord:this.props.item })\n            this.fetch(this.props.item)\n\n        }\n    }\n\n    fetch = (messages) => {\n\n        var _this = this // 保存全局 this\n        let strMessage = Object.assign({},this.state.messages)\n        strMessage.keyword = messages\n        let finalMessage = JSON.stringify(strMessage)\n        let detailData = [].concat(this.state.detailData)\n        const promise = service.getIndustrayDetail(finalMessage)\n        promise.then((json) => { // 获取到数据遮罩去掉\n            if(json ==''){\n                this.setState({dataEmpty:true,isLoading:false})\n                return\n            }\n            json = JSON.parse(json) || RecomData\n            if (detailData.length > 0) {\n                detailData = detailData.concat(json.industryList)\n            } else {\n                detailData = json.industryList\n            }\n            // 获取到数据之后 去掉遮罩 ，加载数据提示去掉\n            _this.setState({ // 同步还是异步\n                isLoading: false,\n                detailData: detailData,\n            })\n        }),reason =>{\n            console.log(reason)\n        }\n    }\n    handleRender =()=>{\n        return (\n            <div className='loadDataAbout'>请输入行业类型</div>\n        )\n    }\n    handleOrign =()=>{\n\n        return(\n            <div className='noneOrgin'>\n                <div className='noneOrginImage' ref=\"scroll_container\">\n                    <img src={require('../images/empty.png')} alt=\"\"/>\n                    <span>暂无搜索结果</span>\n                </div>\n            </div>\n        )\n    }\n    handleDetailRegion = (industryId,industryName,bind)=>{\n         browserHistory.push(`/container/find/${industryId}+${industryName}+1`)\n    }\n    // 渲染数据方法中\n    handelRender =(item)=>{\n        return(\n            <div className='ComponentDetail' key={item && item.industryId } >\n                <div className='ComponentItem' onClick={this.handleDetailRegion.bind(this,item.industryId,item.industryName)}>{item.industryName}</div>\n                <div className='classBorder'></div>\n            </div>\n        )\n    }\n    handleRecomContent =()=>{\n\n        return (\n           <div className='aboutDetailContainer' >\n               <div className = 'findeResult' ref=\"scroll_container\">\n                   {this.state.detailData.map(this.handelRender)}\n               </div>\n           </div>\n        )\n    }\n    render() { // isloading ：数据没有获取到之前 显示数据加载，\n        if(this.state.isLoading){\n            return this.handleRender()\n        }\n       if(this.state.dataEmpty){\n               return this.handleOrign()\n        }\n        return this.handleRecomContent()\n    }\n}\nexport default AboutDetailIndustary"]}